# ArgoCD OIDC secret for Authentik integration
# IMPORTANT: Replace <your-generated-secret> with the output of: openssl rand -base64 32
# Then encrypt with: sops --encrypt --in-place kubernetes/core/argocd/secrets.sops.yaml
# The same secret must be used in the Authentik blueprint (ARGOCD_OIDC_CLIENT_SECRET)
apiVersion: v1
kind: Secret
metadata:
    name: argocd-oidc-secret
    namespace: argocd
    labels:
        app.kubernetes.io/part-of: argocd
type: Opaque
stringData:
    oidc.authentik.clientSecret: ENC[AES256_GCM,data:OTTV3YTiWDld2Z5H4fc7xvoV0wmwwf7+F+AeLGpry5VhMTpMfkhEcOEk6RY=,iv:abT6hgbk1ojE0XMNc50QHaLQ3ZpWa65zJrl/OSnWkek=,tag:W3favvGIU7zM4LGhS16YDg==,type:str]
sops:
    age:
        - recipient: age1g6uhy72aszly2j77d0wmy4mwy5f9ezxe2w9fu2ensal4mn5uufyqqpcf8h
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBZMGQ0UldwSU5kc0luL2s4
            TGxZdGRjdVBrazByR2dJb0NvWkxVRW1QTkg4CmxENzJZNlNRQ3FYUWdIei9nOUFT
            NVNwVGlGVk9ybUFhenVZT0pCdVN0N1EKLS0tIDJpNTlRT1hjMjhUVW9SVzBIMXJx
            R3I2a1NnaUhoc2dPZGRhckNIV0NRancKVUkLqbelPQIfgyXJX34rtTpj1NxC7csF
            D3kH6QBijcSwqDGuW2VpTxuYecsfDoKjBZADrHEw+PCH9DMp7e/UHA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-01-22T19:23:28Z"
    mac: ENC[AES256_GCM,data:VHfzkGDP6A8GXJVr+UmGiOluEr8PpplMpUxLEgpqFhahB5DAS1n5yd9uTFY/P0oBhKtzve0iPmVQVmCspAXb9SbDXSAs2bMnRisBgBuFwl0gRm6UHX0C9A1+4gf0lvGrEDoceC0HSrR2s68kTg9PHAG5q4o1VJ/jbq3xY6oA8lk=,iv:5z9zU1f7m9HabmjxvWQpQkvBo7geRDsVSf92q/uHBqU=,tag:rJ7XSztD/PcKk2ty99DaUA==,type:str]
    encrypted_regex: ^(data|stringData)$
    version: 3.11.0
