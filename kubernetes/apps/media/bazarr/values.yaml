app-template:
  controllers:
    bazarr:
      containers:
        app:
          image:
            repository: lscr.io/linuxserver/bazarr
            tag: latest
          env:
            TZ: Europe/Brussels
            PUID: "3001"
            PGID: "3001"
          resources:
            requests:
              cpu: 50m
              memory: 128Mi
            limits:
              memory: 512Mi
          probes:
            liveness:
              enabled: true
            readiness:
              enabled: true
            startup:
              enabled: true
              spec:
                failureThreshold: 30
                periodSeconds: 5
  
  service:
    app:
      controller: bazarr
      ports:
        http:
          port: 6767
  
  persistence:
    config:
      enabled: true
      type: persistentVolumeClaim
      storageClass: nfs-config
      accessMode: ReadWriteOnce
      size: 1Gi
    
    # Shared media volume - needs write access to save subtitles
    # Configure in Bazarr UI:
    #   Sonarr Root Folder: /media/media/tv
    #   Radarr Root Folder: /media/media/movies
    media:
      enabled: true
      type: persistentVolumeClaim
      existingClaim: media
      globalMounts:
        - path: /media
